<!DOCTYPE html><html>
        <head>
        <title>40923128page</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700,900" rel="stylesheet">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/icomoon/style.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/magnific-popup.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/jquery-ui.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.carousel.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/owl.theme.default.min.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/bootstrap-datepicker.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/fonts/flaticon/font/flaticon.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/aos.css">
        <link rel="stylesheet" href="./../cmsimde/static/chimper/css/style.css">
        <link rel="shortcut icon" href="./../cmsimde/static/favicons.png">
        
        <style type='text/css'>
            .site-section {
            background-color: #FFFF;
            padding: 40px 40px;
            }
            body > div > div.dropdown.open {
                display: block;
            }
        </style>
    
        <!-- <script src="./../cmsimde/static/jquery.js"></script> -->
        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
        <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/normalize.min.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch_set.js"></script>
        <script src="tipuesearch_content.js"></script>
        <link rel="stylesheet" href="./../cmsimde/static/tipuesearch/css/tipuesearch.css">
        <script src="./../cmsimde/static/tipuesearch/tipuesearch.js"></script>
        <script>
            /* original tipuesearch
            $(document).ready(function() {
                 $('#tipue_search_input').tipuesearch();
            });
            */
            // customed doSearch
            function doSearch() {
                $('#tipue_search_input').tipuesearch({
                    newWindow: true, 
                    minimumLength: 2,
                    wholeWords: false, // for search 中文
                });
            }
            $(document).ready(doSearch);
        </script>
        
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shCore.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushBash.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDiff.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJScript.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushJava.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPython.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushSql.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushHaxe.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushXml.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushPhp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushLua.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCpp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCss.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushCSharp.js"></script>
<script type="text/javascript" src="./../cmsimde/static/syntaxhighlighter/shBrushDart.js"></script>
<link type="text/css" rel="stylesheet" href="./../cmsimde/static/syntaxhighlighter/css/shCoreDefault.css"/>
<script type="text/javascript">SyntaxHighlighter.all();</script>
<!-- 暫時不用
<script src="./../cmsimde/static/fengari-web.js"></script>
<script type="text/javascript" src="./../cmsimde/static/Cango-13v08-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/CangoAxes-4v01-min.js"></script>
<script type="text/javascript" src="./../cmsimde/static/gearUtils-05.js"></script>
-->
<!-- for Brython 暫時不用
<script src="https://scrum-3.github.io/web/brython/brython.js"></script>
<script src="https://scrum-3.github.io/web/brython/brython_stdlib.js"></script>
-->
<style>
img.add_border {
    border: 3px solid blue;
}
</style>

</head>
<body>
<div class='container'><nav>
        
    <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div>
    
            <header class="site-navbar py-4 bg-white" role="banner">
              <div class="container-fluid">
                <div class="row align-items-center">
                <h1>40923128 cp2020</h1>
                <div class="pl-4">
                    <form>
                    <input type="text" placeholder="Search" name="q" id="tipue_search_input" pattern=".{2,}" title="At least 2 characters" required>
                    </form>
                </div>
                  <!-- <div class="col-11 col-xl-2">
                    <h1 class="mb-0 site-logo"><a href="index.html" class="text-black h2 mb-0">40923128 cp2020</a></h1> 
                  </div>
                  -->
                  <div class="col-12 col-md-10 d-none d-xl-block">
                    <nav class="site-navigation position-relative text-right" role="navigation">
    <ul class='site-menu js-clone-nav mr-auto d-none d-lg-block'>
                        <li class="active has-children"><a href="index.html">Home</a>
                        <ul class="dropdown">
                            <li><a href="sitemap.html">Site Map</a></li>
                            <li><a href="./../reveal/index.html">reveal</a></li>
                            <li><a href="./../blog/index.html">blog</a></li>
                        </ul>
                      </li>
                     <li class='has-children'><a href='About.html'>About</a><ul class='dropdown'><li><a href='Develop.html'>Develop</a></li></ul><li class='has-children'><a href='Create GitHub web.html'>Create GitHub web</a><ul class='dropdown'><li><a href='IPV6 question(NFU BGA0810).html'>IPV6 question(NFU BGA0810)</a><li><a href='step1-download github file(fall2020_v2)(cmd).html'>step1-download github file(fall2020_v2)(cmd)</a><li><a href='step2-open&set web(cmd).html'>step2-open&set web(cmd)</a><li><a href='step3-save file(cmd).html'>step3-save file(cmd)</a></li></ul><li class='has-children'><a href='Homework.html'>Homework</a><ul class='dropdown'><li><a href='W8H.html'>W8H</a><li><a href='github.io&gitlab.io.html'>github.io&gitlab.io</a></li></ul><li class='has-children'><a href='Homework(team).html'>Homework(team)</a><ul class='dropdown'><li><a href='teammate.html'>teammate</a><li class='has-children'><a href='homework1.html'>homework1</a><ul class='dropdown'><li><a href='English(start to P77).html'>English(start to P77)</a><li><a href='中文(從P77開始).html'>中文(從P77開始)</a></li></ul><li><a href='homework2.html'>homework2</a><li class='has-children'><a href='homework3.html'>homework3</a><ul class='dropdown'><li><a href='21(EN&CH).html'>21(EN&CH)</a><li><a href='22(EN&CH).html'>22(EN&CH)</a><li><a href='23(EN&CH).html'>23(EN&CH)</a><li><a href='24(EN&CH).html'>24(EN&CH)</a></li>
                      </ul>
                </nav>
              </div>
              <div class="d-inline-block d-xl-none ml-md-0 mr-auto py-3" style="position: relative; top: 3px;"><a href="#" class="site-menu-toggle js-menu-toggle text-black"><span class="icon-menu h3"></span></a></div>
              </div>

            </div>
          </div>
          
        </header>
    <div id="tipue_search_content">homework3 << <a href='homework3.html'>Previous</a> <a href='22(EN&CH).html'>Next</a> >> 22(EN&CH)<br /><h1>21(EN&CH)</h1>
<p><strong>EN(EX)</strong></p>
<p><strong><em>Write To A File </em></strong><br/>Exercise 21 (and Solution)<br/>Take the code from the How To Decode A Website exercise (if you didn’t do it or just want to play with some different code, use the code from the solution), and instead of printing the results to a screen, write the results to a txt file. In your code, just make up a name for the file you are saving to.</p>
<p>Extras:</p>
<p>Ask the user to specify the name of the output file that will be saved.<br/>Discussion<br/>Topics:</p>
<p><strong><em>Writing to a file</em></strong><br/>1.Gotchas and warnings<br/>2.Saving to a file<br/>3.Python makes it very easy to write to a file. Depending on what kind of file you want to write to and what kind of data you are writing, your options are plenty. I will show you the simplest form of writing to a file - writing plain text to a plain old text file. In other words, writing a string to a .txt file.</p>
<p>The code looks like this:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">with open('file_to_save.txt', 'w') as open_file:
    open_file.write('A string to write')</pre>
<p>An alternate way of writing the same code is like so:</p>
<figure class="highlight"></figure>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false"> open_file = open('file_to_save.txt', 'w')
  open_file.write('A string to write')
  open_file.close()</pre>
<p>The first is considered better programming practice, but the second might explain a little bit better what is going on in the first code sample.</p>
<p>Let’s go through line by line.</p>
<p>The with open('file_to_save.txt', 'w') as open_file syntax is new for us - all it means is that inside the code block indented underneath, there will be a variable called open_file that will represent the file object. You can pick any name for this file - it is just a variable name. The open() function takes two arguments - the first is the name of a file as a string (if the file does not exist, Python will create it), and a second argument that represents how the file should be opened. There are a few ways you can open files (read all about it at the official Python documentation), but in short, there are two most common ones: 'r' and 'w'. 'r' stands for “read only” and 'w' stands for “write only” (you can open for both read and write using 'r+'). You should tell Python which way you want to open the file - you don’t want to modify a file you are only looking at, and opening a file with 'w' when you want to only read it will overwrite the old file.</p>
<p>When you open a file, it will look for it in the same directory as the Python program. If there is no file with that name, Python will create a file in that directory with the given name. To look for files in other directories, use the ../ notation to move up and down directories as necessary.</p>
<p>As soon as the program exists the with code block for any reason, it will close the file. In the second code example case, I created the file object by opening the file and saving the object to my variable open_file. I then had to remember to close the file manually at the end of my program. This is considered worse programming practice, because in case there is an error in the program and it terminates before hitting the .close() statement, there will be a floating open file object somewhere in memory. You do this enough times and it becomes a problem, especially for production environments. For playing around with Python, this is not usually a problem, but why not learn how to program correctly the first time?</p>
<p>The write() portion is simple - call .write() with a string (if something is not a string, turn it into a string first), and it will write to the end of the file.</p>
<p>When the program exists the with statement, the file will automatically be saved. In fact, every time after a .write() statement, the file will be automatically saved.</p>
<p></p>
<p><strong><em>Gotchas and Warnings</em></strong><br/>This all seems simple enough, but there are a few caveats to the file-writing endeavor.</p>
<p>1.You always want to make sure you close a file. The easiest strategy for this is explained above - use the with statement rather than trying to manually remember to .close() the file.<br/>2.Opening a file for writing with 'w' will overwrite any file that currently exists with that name. If you have previously written data to that file, it is now gone as soon as Python opens it.<br/>3.You can write any kind of object to any kind of file in Python, as long as you specify the correct format. The simplest thing to do is to write strings to a .txt file. But remember - you have to convert numbers or objects into strings before you write them to a file. In a later exercise, we’ll talk about writing to other formats.<br/>The best way to remember the caveats is to explore them yourself, so have at it!</p>
<p><strong>CH(EX)</strong></p>
<p><em>寫入文件 </em><br/>練習21（和解決方案）<br/>從“如何對網站進行解碼”練習中獲取代碼（如果您沒有這樣做，或者只是想使用一些不同的代碼，請使用解決方案中的代碼），而不是將結果打印到屏幕上，而是將結果寫到屏幕上到txt文件。在您的代碼中，只需為要保存到的文件命名。</p>
<p><em>附加功能：</em></p>
<p>要求用戶指定將要保存的輸出文件的名稱。<br/>討論區<br/>主題：<br/>1.寫入文件<br/>2.陷阱和警告<br/>3.保存到文件<br/>Python使寫入文件變得非常容易。根據要寫入的文件類型和要寫入的數據類型，您有很多選擇。我將向您展示最簡單的寫入文件的形式-將純文本寫入純文本文件。換句話說，將字符串寫入.txt文件。</p>
<p>代碼如下：</p>
<pre class="brush:html;auto-links:false;toolbar:false" contenteditable="false">with open('file_to_save.txt', 'w') as open_file:
    open_file.write('A string to write')</pre>
<p>編寫相同代碼的另一種方法是這樣的：</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">open_file = open('file_to_save.txt', 'w')
  open_file.write('A string to write')
  open_file.close()</pre>
<p>第一種被認為是更好的編程實踐，但是第二種可能會更好地解釋第一個代碼示例中發生的事情。</p>
<p>讓我們逐行進行。</p>
<p>該with open('file_to_save.txt', 'w') as open_file語法是新的我們-所有這意味著內的代碼塊縮進下，會有一個叫做變量open_file將代表文件對象。您可以為此文件選擇任何名稱-它只是一個變量名。該open()函數有兩個參數-第一個是文件作為一個字符串（如果文件不存在，Python將創建它），並表示第二個參數的名稱如何文件應該被打開。您可以通過幾種方式打開文件（有關詳細信息，請參見Python的官方文檔），總之，有兩種最常見的方式：'r'和'w'。'r'代表“只讀”和'w'“只寫”（您可以使用'r+'）。您應該告訴Python您想以哪種方式打開文件-您不想修改僅查看的文件，'w'而只想讀取文件時打開文件將覆蓋舊文件。</p>
<p>當您打開文件時，它將在與Python程序相同的目錄中查找。如果沒有使用該名稱的文件，Python將在該目錄中使用給定名稱創建一個文件。要在其他目錄中查找文件，請../根據需要使用表示法在目錄中上下移動。</p>
<p>一旦程序with由於某種原因存在代碼塊，它將關閉文件。在第二個代碼示例案例中，我通過打開文件並將對象保存到我的變量中來創建文件對象open_file。然後，我必須記住在程序結束時手動關閉文件。這被認為是較差的編程習慣，因為如果程序中出現錯誤並且在命中該.close()語句之前終止，則在內存中的某個位置將有一個浮動的打開文件對象。您執行此操作的次數足夠多，這將成為一個問題，尤其是對於生產環境。對於使用Python來說，這通常不是問題，但是為什麼不第一次學習如何正確編程呢？</p>
<p>該write()部分很簡單-.write()用字符串調用（如果不是字符串，請先將其轉換為字符串），然後它將寫入文件的末尾。</p>
<p>當程序存在該with語句時，文件將自動保存。實際上，每次.write()聲明後，文件都會自動保存。</p>
<p>陷阱和警告<br/>這一切似乎很簡單，但是文件編寫工作有一些警告。</p>
<p>1.您始終要確保關閉文件。上面已說明了最簡單的策略-使用該with語句，而不是嘗試手動記住.close()該文件。<br/>打開要寫入的文件'w'將覆蓋該名稱當前存在的任何文件。如果您之前已將數據寫入該文件，則Python打開後立即消失。<br/>2.只要指定正確的格式，就可以在Python中將任何類型的對象寫入任何類型的文件。最簡單的方法是將字符串寫入.txt文件。但是請記住-在將數字或對象寫入文件之前，必須將其轉換為字符串。在以後的練習中，我們將討論編寫其他格式的內容。<br/>3.記住警告的最好方法是親自探索它們，因此，快來試試吧！</p>
<p><strong>-----------------------------------------------------------------------------------------------------------</strong></p>
<p><strong>EN(AN)</strong></p>
<p><em><strong>Write To A File Solutions</strong></em><br/><em><strong>Exercise 21</strong></em><br/>Take the code from the How To Decode A Website exercise (if you didn’t do it or just want to play with some different code, use the code from the solution), and instead of printing the results to a screen, write the results to a txt file. In your code, just make up a name for the file you are saving to.</p>
<p><em><strong>Sample solution</strong></em></p>
<p>Extras:</p>
<p>1.Ask the user to specify the name of the output file that will be saved.<br/>2.Sample solution<br/>The sample solution takes the out-of-the-box solution for Exercise 17 and adds two components:</p>
<p>Asking the user for the name of a file<br/>Substitutes every print statement with a statement writing to a file<br/>Here is the full solution:</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">import requests
from bs4 import BeautifulSoup
 
base_url = 'http://www.nytimes.com'
r = requests.get(base_url)
soup = BeautifulSoup(r.text)

filename = input("File to save to: ")

with open(filename, 'w') as f:
  for story_heading in soup.find_all(class_="story-heading"): 
      if story_heading.a: 
          f.write(story_heading.a.text.replace("\n", " ").strip())
      else: 
          f.write(story_heading.contents[0].strip())</pre>
<p><strong>CH(AN)</strong></p>
<p><em><strong>寫入文件解決方案</strong></em><br/>練習21<br/>從“如何對網站進行解碼”練習中獲取代碼（如果您沒有這樣做，或者只是想使用一些不同的代碼，請使用解決方案中的代碼），而不是將結果打印到屏幕上，而是將結果寫到屏幕上到txt文件。在您的代碼中，只需為要保存到的文件命名。</p>
<p>附加功能：要求用戶指定將要保存的輸出文件的名稱。<br/>樣品溶液<br/>該示例解決方案採用了練習17的即用型解決方案，並添加了兩個組件：</p>
<p>1.向用戶詢問文件名<br/>2.print用寫入文件的語句替換每個語句<br/>這是完整的解決方案：</p>
<pre class="brush:py;auto-links:false;toolbar:false" contenteditable="false">import requests
from bs4 import BeautifulSoup
 
base_url = 'http://www.nytimes.com'
r = requests.get(base_url)
soup = BeautifulSoup(r.text)

filename = input("File to save to: ")

with open(filename, 'w') as f:
  for story_heading in soup.find_all(class_="story-heading"): 
      if story_heading.a: 
          f.write(story_heading.a.text.replace("\n", " ").strip())
      else: 
          f.write(story_heading.contents[0].strip())</pre>
<p></p><br />homework3 << <a href='homework3.html'>Previous</a> <a href='22(EN&CH).html'>Next</a> >> 22(EN&CH)</div>
        
    <!-- footer -->
      <div class="container">
        <div class="row pt-3 mx-auto">
            <p>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank" >Colorlib</a>
            <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
            </p>
        </div>
      </div>
    <!-- for footer -->
    
        </div> <!-- for site wrap -->
            <!-- <script src="../cmsimde/static/chimper/js/jquery-3.3.1.min.js"></script> -->
            <script src="../cmsimde/static/chimper/js/jquery-migrate-3.0.1.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery-ui.js"></script>
            <script src="../cmsimde/static/chimper/js/popper.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap.min.js"></script>
            <script src="../cmsimde/static/chimper/js/owl.carousel.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.stellar.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.countdown.min.js"></script>
            <script src="../cmsimde/static/chimper/js/jquery.magnific-popup.min.js"></script>
            <script src="../cmsimde/static/chimper/js/bootstrap-datepicker.min.js"></script>
            <script src="../cmsimde/static/chimper/js/aos.js"></script>
            <!--
            <script src="../cmsimde/static/chimper/js/typed.js"></script>
                    <script>
                    var typed = new Typed('.typed-words', {
                    strings: ["Web Apps"," WordPress"," Mobile Apps"],
                    typeSpeed: 80,
                    backSpeed: 80,
                    backDelay: 4000,
                    startDelay: 1000,
                    loop: true,
                    showCursor: true
                    });
                    </script>
            -->
            <script src="../cmsimde/static/chimper/js/main.js"></script>
        
<!-- 啟用 LaTeX equations 編輯 -->
  <!-- <script>
  MathJax = {
    tex: {inlineMath: [['$', '$'], ['\(', '\)']]}
  };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>-->
    </body></html>
        